import java.util.*;
public class TicTacToe {

	public static void main(String[] args){
		Scanner stdin = new Scanner(System.in);
		char[][] board = new char[3][3];
		boolean gameOver = false;
		newBoard(board);
		while(!gameOver){
			printInstructions();
			System.out.print("Player 1 Move (X): ");
			int row1 = stdin.nextInt();
			int col1 = stdin.nextInt();
			if(board[row1][col1] == '_')
				board[row1][col1] = 'X';
			printBoard(board);
			if(checkWinner(board)){
				System.out.print("Player 1 wins!!!!");
				gameOver = true;
				break;
			}
			System.out.print("Player 2 Move (O): ");
			int row2 = stdin.nextInt();
			int col2 = stdin.nextInt();
			if(board[row2][col2] == '_')
				board[row2][col2] = 'O';
			if(checkWinner(board)){
				System.out.print("Player 2 wins!!!!");
				gameOver = true;
				break;
			}
			printBoard(board);
		}
		
	}
	
	public static void printInstructions(){
		System.out.println("Enter the row followed by the column");
	}
	
	public static boolean checkWinner(char[][] matrix){
		boolean row = true, col = true, diag = false;
		for(int i = 0; i < matrix.length; i++){
			for(int j = 0; j < matrix[i].length - 1; j++){
				if(matrix[i][j] != matrix[i][j + 1] && matrix[i][j] == '_')
					row = false;
				//check rows	
			}
		}
		
		for(int i = 0; i < matrix.length; i++){
			for(int j = 0; j < matrix[i].length - 1;j++){
				if(matrix[j][i] != matrix[j + 1][i] && matrix[i][j] == '_')
					col = false;
			}
		}
		
		if(matrix[0][0] == matrix[1][1] && matrix[1][1] == matrix[2][2]&& matrix[1][1] == '_')
			diag = true;
		else if(matrix[0][2] == matrix[1][1] && matrix[1][1] == matrix[2][0]&& matrix[1][1] == '_')
			diag = true;
			
		boolean win = false;
		if(row || col || diag){
			win = true;
		}
		
		return win;
	}
	
	public static void newBoard(char[][] matrix){
		for(int i = 0; i < matrix.length; i++){
			for(int j = 0; j < matrix[i].length; j++){
				matrix[i][j] = '_';
			}
		}
	}
	
	public static void printBoard(char[][] matrix){
		for(int i = 0; i < matrix.length; i++){
			for(int j = 0; j < matrix[i].length; j++){
				System.out.print(matrix[i][j] + " ");
			}System.out.println();
		}
	}
	
}
